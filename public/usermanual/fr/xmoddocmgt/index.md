Module Base Documentaire
========================

La base documentaire est un espace de gestion de documents et/ou de
fichiers.

-   gestion de vos types de documents et dossiers
-   gestion avancées et données structurées de vos documents ou dossiers
-   recherche de documents en base de données

== [[Image:|thumb|

<center>
Illustration 51: Affichage par défaut d'une base documentaire

</center>
]]Un peu de vocabulaire ==

### Un dossier

Un dossier est un ensemble de « conteneurs » structurés. Il est
comparable à un répertoire. Il peut exister plusieurs types de dossiers.
La console Séolan permet de gérer des types de dossiers, et de
structurer l'espace des dossiers si cela est nécessaire.

Les fonctions avancées sur les dossiers :

-   il est possible de contraindre le contenu d'un dossier à respecter
    certaines conventions. Par exemple, il est possible de contraindre
    un dossier à ne pas contenir de sous-dossiers mais seulement des
    documents.
-   on peut gérer des droits distincts sur un dossier
-   on peut associer une iconographie spécifique à chaque type de
    dossier

### Un document

Un document est un ensemble de fichiers. Comme un dossier, il peut
exister plusieurs types de documents, suivant des règles définies

-   un document peut ne contenir que certains types de fichiers – ex
    dossiers d'images
-   un document peut n'exister que sous certaines conditions
-   on peut gérer des droits sur un document
-   on peut associer une iconographie spécifique à chaque type de
    document

### un fichier

Un fichier peut être de n'importe quel type , image, tableau, texte,
image, archive.

Naviguer dans l'espace documentaire
-----------------------------------

### Barre des icônes, menus

Les menus et pictos sont contextualisés ( vue globale, vue dossier,
affichage document). On retrouve les pictos utilisés par ailleurs dans
tout l'environnement

[Image:Barre](Image: "wikilink") de navigation : vue à plat générale''
''

[Image:Barre](Image: "wikilink") de navigation vue dossier

  ----------- ----------------------------------------
  <center>    **Sémantique, dépendante du contexte**
  **Icône**   
              
  </center>   
              

  <center>    Afficher, Voir ( internet )
  <Image:>    
              
  </center>   
              

  <center>    Modifier, Éditer - crayon
  <Image:>    
              
  </center>   
              

  <center>    Nouveau, Créer – page blanche
  <Image:>    
              
  </center>   
              

  <center>    Supprimer
  <Image:>    
              
  </center>   
              

  <center>    Déplacer un document, un dossier,
  <Image:>    
              
  </center>   
              

  <center>    Voir la liste, Parcourir
  <Image:>    
              
  </center>   
              

  <center>    Voir l'arborescence
  <Image:>    
              
  </center>   
              

  <center>    Sécurité, paramètres de sécurité
  <Image:>    
              
  </center>   
              

  <center>    Réserver
  <Image:>    
              
  </center>   
              

  <center>    *Administration*
  <Image:>    
              
  </center>   
              

  <center>    Rejouer – relancer la dernière action
  <Image:>    
              
  </center>   
              

  <center>    Retour ( page précédente )
  <Image:>    
              
  </center>   
              
  ----------- ----------------------------------------

### Navigation à plat <Image:>

Ouverture de la page d'accueil de la base documentaire en mode « à
plat » (mode par défaut). Dans ce mode, l'affichage est structuré en
plusieurs parties :

Barre de navigation : la barre de navigation généralisée de la console
Séolan intègre les dossiers parents du dossier courant. Le clic sur les
liens permet de se déplacer vers ces dossiers parents.

[[Image:|thumb|

<center>
Illustration 52: ouverture d'un dossier en mode navigation à « plat »

</center>
]]Boîte de recherche : recherche plein texte et recherche structurée par
le lien « Recherche avancée ».

L'encadré est ensuite structuré comme suit :

1.  Titre du dossier (Documents transmis par Axe)
2.  Commentaire associé au dossier
3.  Liste des sous-dossiers de niveau 1 et deux du dossier courant, avec
    les commentaires associés. La symbolique \#3 indique que le dossier
    contient 3 documents.
4.  Liste des documents contenus dans ce dossier.

Les boîtes déroulantes « Ordre » permettent de demander un ordre
particulier dans le dossier, tant pour les sous-dossiers que pour les
fichiers, par titre croissant ou décroissant, par date de dernière mise
à jour, par type de document.

Le déplacement vers un nouveau répertoire est obtenu par un clic sur le
nom du répertoire. Le téléchargement d'un fichier par un clic sur le nom
du fichier.

Dans la base documentaire les documents sont présentés de la manière
suivante :

[[Image:|thumb|

<center>
Illustration 53: Un document

</center>
]]Lorsque la souris passe sur le titre du fichier, une fenêtre popup
affiche des informations complémentaires :

[[Image:|thumb|

<center>
Illustration 54: popup d'information sur un document

</center>
]]

### Navigation arborescente <Image:>

[[Image:|thumb|

<center>
Illustration 55: Vue arborescente

</center>
]]Dans la vue arborescente, la partie gauche de la page présente des
dossiers alors que la partie droite de la page présente le contenu du
dossier courant. Les fonctions sont les même qu'en navigation à plat.

### Menu Affichage / Derniers documents modifiés

Cette fonction recherche la liste des derniers documents modifiés.

[[Image:|thumb|

<center>
Illustration 56: Derniers documents modifiés

</center>
]]Chaque document est présenté par son nom et dans son contexte, c'est à
dire dans le dossier dans lequel il se trouve. Cela vous permet de
naviguer directement soit vers le document lui-même, soit vers le
dossier. Les résultats peuvent être filtrés suivant le type de document
recherché.

### Recherche plein texte

[[Image:|thumb|

<center>
Illustration 57: Barre d'outils de la base documentaire

</center>
]]La boite de recherche plein texte disponible en tête de page permet de
rechercher dans l'ensemble de la base documentaire, dossiers et
documents compris. La recherche dans les contenus des fichiers est aussi
réalisée sur un certain nombre de formats courants tels que .doc, .pdf,
etc...

Les résultats de recherche sont présentés par ordre de pertinence.

### Mode recherche avancée

Mode structuré par étapes – mode de recherche accessible sur toutes les
pages du module base documentaire , en haut à gauche sous le menu
général

1.  choix du type de document

[[Image:|thumb|

<center>
Illustration 58: recherche avancée

</center>
]]

1.  choix du type de recherche : structuré ou non structuré. Une
    recherche structurée intègre des filtrage par champ alors qu'une
    recherche non structurée réalise une recherche plein texte sur
    l'ensemble des documents du type choisi. La recherche non structurée
    est équivalente à la recherche plein texte filtrée par un type de
    document.
2.  [[Image:|thumb|
    <center>
    Illustration 59: Recherche avancée

    </center>
    ]]Formulation de la requête. La méthode est la même que dans un
    ensemble de fiches.

3.  [[Image:|thumb|
    <center>
    Illustration 60: Formulaire de recherche structurée

    </center>
    ]]Présentation des résultats

[[Image:|thumb|

<center>
Illustration 61: Liste des documents et dossiers trouvés

</center>
]]

Gestion des dossiers
--------------------

### Création d'un dossier

La création d'un dossier est réalisée dans le dossier contenant, en
utilisant la fonction « Nouveau dossier » en bas de page. Cette fonction
peux se présenter comme un bouton, si un seul type de dossier est
disponible, ou comme une liste déroulante présentant la liste des types
de dossiers disponibles.

-   [Image:Dossier](Image: "wikilink") <Image:>
-   Dossier groupe de travail
-   ..

La création de dossier demande de spécifier un titre (titre du dossier)
et une description ou commentaire, qui apparaîtra en dessous du nom du
dossier dans le parcours de la base documentaire. Il est important de
compléter les descriptions pour obtenir une base documentaire
auto-descriptive.

Le dossier ainsi créé apparaît immédiatement.

### Modifications d'un dossier

Dans la barre des icônes, accès à l'édition du dossier courant par
l'icône<Image:>

### Gestion de la sécurité d'un dossier

Cette option est disponible pour l'administrateur du dossier ou pour
l'administrateur de la console Séolan.

1.  menu Contenu \> Sécurité, sur le dossier dont on souhaite modifier
    les droits, affichage de la fenêtre de dialogue de gestion de la
    sécurité de l'élément courant. ( suivant les droits, sécurité sur
    les groupes, les utilisateurs )\
     <Image:>
2.  Ajout des règles de sécurité
3.  Choix de les appliquer ou non aux sous dossiers
4.  Sauver

**Important**. La base documentaire implémente l'héritage. Lorsque vous
positionnez un doit, que ce soit pour un utilisateur ou pour un groupe,
toute l’arborescence en dessous en hérite, sauf si vous avez posé en
dessous un droit plus spécifique.

Pour qu'un utilisateur accède à un dossier, il faut au minimum qu'il ait
les droits de traversée sur les répertoires parent.

Gestion des documents
---------------------

### Création d'un document

[Image:Dans](Image: "wikilink") le répertoire destination, choix du type
de document à créer en bas d'écran.

Le formulaire de téléchargement intègre une partie « Notice » du
document, et le document lui-même à télécharger.

**Notice**

La notice est différente pour chaque type de document et pour chaque
application documentaire. Nous commentons ci-après quelques champs
« classiques ».

-   titre : titre du document
-   auteurs : auteurs du document
-   résumé : texte court décrivant le document

**Fichiers**

Les fichiers peuvent être téléchargés par deux méthodes différentes :

1.  Mode standard : accès à un formulaire standard HTTP de
    téléchargement de fichier

<Image:>

1.  Ajouter des fichiers : téléchargement de plusieurs fichiers en une
    seule requête. Cette dernière méthode semble poser des problèmes en
    environnement linux, d'où la persistance de la méthode 1.

### [Image:Modification](Image: "wikilink") d'un document

Dans la base documentaire les documents sont présentés de la manière
suivante :

[Image:Un](Image: "wikilink") document est mis à jour en utilisant
l’icône « Modifier <Image:> » au regard du document. Il est visualisé en
utilisant l’icône « Voir  <Image:>» au regard du document.

[Image:La](Image: "wikilink") mise à jour des champs de la notice est
classique. Par contre, le champ contenant les fichiers obéit à quelques
règles simples :

1.  Le téléchargement d'un fichier de même nom ou de même titre qu'un
    fichier existant met à jour le fichier.
2.  Pour supprimer un fichier il suffit de sélectionner le fichier et de
    cocher la case supprimer. La suppression ne sera effective qu'à la
    validation du formulaire.

### Suppression d'un document

La suppression d'un document est obtenue par sélection du document
(boîte à cocher dans la liste) et clic sur l’icône supprimer en colonne
gauche ou choix de l'item « [Image:Menu](Image: "wikilink") Contenu \>
Supprimer ».

Déplacements et liens
---------------------

Les fonctions de déplacement et de lien sont opérantes à la fois pour
les documents et pour les dossiers. Un déplacement transfère l'entité
(document ou dossier) de l'ancien emplacement vers le nouveau. Par
contre, la création d'un lien permet à un document ou un dossier d'être
présent simultanément dans plusieurs emplacement de l'arborescence.

Si un document est sélectionné dans la page, les fonctions lier ou
déplacer sont appliquées aux documents, dans le cas contraire elle
s'applique au dossier courant.

### Déplacement d'un document et liens

Les fonctions de déplacement et de lien sont opérantes à la fois pour
les documents et pour les dossiers. Un déplacement transfère l'entité
(document ou dossier) de l'ancien emplacement vers le nouveau. Par
contre, la création d'un lien permet à un document ou un dossier d'être
présent simultanément dans plusieurs emplacement de l'arborescence.Si un
document est sélectionné dans la page, les fonctions lier ou déplacer
sont appliquées aux documents, dans le cas contraire elle s'applique au
dossier courant.

### Déplacement d'un document

1.  Sélection du document à déplacer, avec la case à cocher

<Image:><Image:>

1.  Clic sur l'icône [Image:dans](Image: "wikilink") la barre des icônes
    ou menu Contenu \> Déplacer
2.  Sélection du dossier destination, dans la fenêtre de dialogue qui
    s'ouvre

[[Image:|thumb|

<center>
Illustration 62: Choix d'un dossier destination

</center>
]]

1.  Affichage du dossier destination

Attention : Ces fonctions sont soumises à des contraintes liées à chaque
espace documentaire. Tous les déplacements ne sont pas autorisés et sont
fonctions des droits et des particularités des dossiers.=== Créer un
lien sur un document === Le processus est le même, excepté que la
fonction Lier se trouve dans Menu Contenu \> Lier.

Le résultat est un fichier localisé à la fois dans deux dossier.La barre
contextuelle au dessus du fichier affiche tous les chemins possibles
pour accéder au fichier.

[Image:Archives](Image: "wikilink") d'un document
-------------------------------------------------

L'ensemble des événements qui se produisent sur un document sont
archivés. L'archivage vous permet de revenir à la version antérieure
d'un document. ( suivant les droits activés sur les modules )

### Visualisation des archives

-   Accès au document en mode « Affichage » . Clic sur l'icône
    « afficher » le document [Image:Affichage](Image: "wikilink") du
    document
-   Clic sur onglet « archive » et affichage de événements et archives
    disponibles
-   Choix et clic d'une archive<Image:>
-   Affichage du document à cette date<Image:>

[Image:Réservation](Image: "wikilink") de document – suivant les droits utilisateurs
------------------------------------------------------------------------------------

La réservation de document permet de demander de réserver le document
pour une durée donnée. La personne qui réserve le document est désormais
la seule à pouvoir le modifier, mais il reste consultable par tous les
autres utilisateurs ayant les droits. La réservation est active pour 7
jours. L'auteur ayant réservé le document peut le libérer à tout moment.

### [Image:Réservation](Image: "wikilink") du document

La réservation du document est obtenue par un clic sur l’icône adéquate
:

Suite à cette action :

1.  l’icône<Image:> réserver n'apparaît plus pour aucun utilisateur,
2.  l’icône modifier n'apparaît plus que pour l'utilisateur ayant
    réservé le document

### Libération du document

La méthode habituelle de libération du document est de modifier le
document et de choisir le bouton « Sauver et libérer » au moment de la
mise à jour.

<Image:>

Gestion des abonnements, avertir
--------------------------------

Fonctions identiques, et utilisation identique dans tout l'environnement
( menu Plus )

[[Image:|thumb|

<center>
Illustration 63: exemple d'abonnement sur un document de la base
documentaire

</center>
]]

[[Image:|thumb|

<center>
Illustration 64: Liste des abonnements

</center>
]]

Les types de documents [Admin]
------------------------------

Les différents types de documents sont gérés dans la module « Types de
documents ». Ce module répertorie tous les types de documents utilisés
dans l'espace collaboratif. La création d'un type de document rend ce
dernier immédiatement utilisable dans les espaces documentaires en
relation.

-   les types de documents avec leur paramètres : icône, emplacement,
    notice, options, etc,
-   les types de dossiers avec leurs paramètres : icône, emplacement,
    notice, ordre de tri, options

Les champs d'un type de document sont les suivants.

-   Titre : nom du type de document, apparaissant dans toutes les listes
    et dans le typage des documents
-   Dossier : si ce champ est positionné à Oui, alors ce type de
    document est un Conteneur ou un Dossier, c'est à dire qu'il peut lui
    même contenir des Dossiers et des Documents
-   Module : module base documentaire attaché à ce type de document
-   Module de données : module de données dans lequel les documents sont
    stockés. Attention, la méthode de stockage préférée est la table de
    données (champ suivant).
-   Table des données : source de données contenant les documents de ce
    type.
-   Icône : icône représentant les documents de ce type dans l'interface
    graphique
-   Classe : Classe PHP5 implémentant les comportement spécifique des
    documents de ce type de document.
-   Symbole : rédaction réservée
-   Gabarit d'affichage : fichier HTML utilisé lors de l'affichage du
    détail d'un document. Ce gabarit vient en remplacement du gabarit
    standard.
-   Gabarit d'édition : fichier HTML utilisé lors de l'édition d'un
    document. Ce gabarit vient en remplacement du gabarit standard.
-   Schéma : rédaction réservée
-   Modèle : Emplacement du document / dossier utilisé comme modèle pour
    la création d'un nouveau document de ce type. Si le modèle est un
    dossier, il sera cloné.
-   Options : liste d'options au format .ini, c'est à dire
    attribut=valeur.
-   Partageable : si cette option est positionnée à « vrai », les
    documents de ce type de document peuvent être partagés vers d'autres
    espaces documentaires que celui dans lequel ils sont créés.
